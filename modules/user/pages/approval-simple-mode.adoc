= Упрощенная работа с файлами на согласовании

Для согласующего, помимо xref:approval-versions-comments.adoc[обычной] работы с версиями файлов, предусмотрен вариант упрощенной работы с файлами.

Данный способ предназначен для работы только с собственными версиями согласующего для текущего этапа. В карточке задания на согласование у данного пользователя будет доступна вкладка _Файлы для согласования_.

[NOTE]
====
Упрощенный режим является единственным доступным вариантом xref:Signing_files_simple.adoc[работы с файлами] в режиме _Подписание_.
====

Данный способ работы только визуально упрощает работу с собственными версиями файлов. Элементы интерфейса для обычной и упрощенной работы с файлами синхронизированы. При необходимости можно в любой момент перейти из расширенного режима в упрощенный и наоборот.

Если для этапа настроен тип маршрутизации _параллельный_, версии других участников согласования в данном режиме не отображаются, и создание собственных версий на их основе недоступно.

Если для этапа настроен тип маршрутизации _последовательный_ или _альтернативный_, на вкладке _Файлы для согласования_ может быть доступна версия файла с исправлениями всех предыдущих согласующих данного этапа (см. xref:approval-versions-comments.adoc[Особенности работы с версиями и комментариями к версиям]).

.Вкладка "Файлы для согласования" для упрощенной работы с файлами
image::files-simple.png[Вкладка "Файлы для согласования" для упрощенной работы с файлами]

[#version-view]
== Просмотр версии файла этапа

В упрощенном режиме работы согласующий может просмотреть _Исходную версию этапа_ и последнюю созданную им версию на данном этапе. Просмотр доступен для файлов в формате `.txt`, MS Word, MS Excel, `.pdf`.

.Чтобы просмотреть файл:
. Откройте карточку задания на согласование.
. Перейдите на вкладку _Файлы для согласования_.
. Выберите файл, затем нажмите кнопку *Просмотреть*.
+
Во встроенном средстве просмотра будет открыта либо xref:approval-versions-comments.adoc["Исходная версия этапа"], либо последняя версия, которая была создана или отредактирована в упрощенном режиме на данном этапе.
+
.Просмотр версии в упрощенном режиме работы с файлами
image::simple-view.png[Просмотр версии в упрощенном режиме работы с файлами]
+
. Ознакомьтесь с версией файла.
. Закройте файл.

[#file-edit]
== Редактирование файла

В упрощенном режиме работы с файлами согласующим может быть отредактирована _Исходная версия этапа_ или последняя добавленная собственная версия, если файл одного из следующих форматов: `.doc`, `.docm`, `.docx`, `.txt`, `.rtf`, `.xls`, `.xlsm`, `.xlsx`, `.ppt`, `.pptx`, `.vsd`, `.vsdx`. Файлы других форматов открываются только на чтение.

[NOTE]
====
Если на компьютере, где установлен клиент {dv}, установлено приложение MS Word, но по умолчанию для текстовых документов форматов `.doc`, `.docx`, `.rtf` выбран другой текстовый редактор, согласуемые файлы будут открываться в MS Word.

Приоритет отдаётся редактору MS Word, т.к. при создании версий и автоконсолидации важен режим рецензирования.
====

.Чтобы внести изменения в "Исходную версию этапа":
. Откройте карточку задания на согласование.
. Перейдите на вкладку _Файлы на согласовании_.
. Выберите файл, затем дважды щелкните левой клавишей мыши по его названию.
+
Файл будет открыт в режиме редактирования. Количество файлов, открываемых одновременно в режиме редактирования, не ограничено. При попытке повторного открытия уже открытого на редактирование файла будет выдано предупреждение: `Файл уже редактируется вами`.
+
[IMPORTANT]
====
При редактировании файла Microsoft Office, открытого из карточки, следует избегать параллельного открытия файлов с аналогичным именем из других источников, т.к. это может привести к невозможности сохранения изменений файла в карточку.
====
+
На вкладке _Версии и комментарии_ будет автоматически создана новая версия файла. Именно она в упрощенном режиме будет открыта у пользователя в режиме редактирования. Если выбран файл формата MS Word, в документе будет включен режим исправлений.
+
Если используется тип маршрутизации _Параллельный_ или _Альтернативный_, новая версия файла будет создана на основе xref:approval-versions-comments.adoc[_Исходной версии этапа_]. Для типа маршрутизации _Последовательный_ версия будет создана на основе версии предыдущего участника (только для первого участника -- на основе _Исходной версии этапа_).
+
. Внесите изменения в файл.
+
Для файлов формата MS Word изменения будут отображаться в режиме исправлений.
+
. Сохраните и закройте файл.
+
На вкладке _Файлы для согласования_ вместо _Исходной версии этапа_ для просмотра и редактирования станет доступной версия файла с внесенными изменениями. На вкладке _Версии и комментарии_ изменения будут сохранены в созданной версии.

[#version-compare]
== Сравнение версий

Для файлов формата MS Word в упрощенном режиме согласующий может выполнить сравнение версий. Сравнение выполняется между выбранной версией текущего этапа и _Исходной версией_ данного этапа на предыдущем цикле согласования, а также, если согласующий уже принимал участие в согласовании, с версией другого этапа того же цикла.

[WARNING]
====
Для файлов формата, отличного от форматов MS Word, сравнение версий не производится.
====

.Чтобы сравнить версии:
. Откройте карточку задания на согласование.
. Перейдите на вкладку _Файлы для согласования_.
. Выберите файл, который требуется сравнить с версией, согласуемой на данном этапе.
. Нажмите на кнопку *Показать изменения*.
+
Команда доступна, если данный согласующий уже принимал участие в согласовании.
+
Будет открыт редактор MS Word в режиме сравнения версий, в котором будет отображена _Исходная версия этапа_ и версия, которая была исходной для этого этапа на прошлом цикле.
+
. Сравните версии и закройте документ.
