= Обновление модуля

include::webclient:ROOT:partial$excerpts.adoc[tags=what-changed]

[#conditions]
== Условия обновления

* Установка новой версии должна выполняться в нерабочее время.
* Создайте резервную копию БД {dv}.
* База данных {dv} должна быть переведена на работу с расширенными метаданными.
* При обновлении версия клиентского дистрибутива должна быть равной версии серверного дистрибутива.
* Если к новой версии модуля приложена инструкция по обновлению, следуйте ей.
* *Если комплект обновления включает обновление для модуля "{pl}"*, перейдите к инструкции, приведенной xref:dev@platform:admin:update-module.adoc[в документации] модуля {pl}.

[#update]
== Порядок обновления

.Чтобы установить новую версию модуля "{ad}":
. Создайте резервную копию БД.
include::system::partial$stop.adoc[]
. Установите новую версию модуля из пакета установки `{dv} ApprovalDesigner server.msi`, не удаляя существующую версию.
+
[NOTE]
====
При обновлении используется каталог и область установки текущей версии.
====
+
include::system::partial$go.adoc[]
+
.Мастер установки модуля
image::install-update-db-flag.png[Мастер установки модуля]
+
. Выберите базы данных, в которых будут обновлены библиотеки карточек модуля, и нажмите *ОК*, чтобы запустить процесс обновления БД.
//tag::warning[]
+
[WARNING]
====
При обновлении БД с предыдущих версий модуля (до 5.5.3), система будет поддерживать работу со старым согласованием с использованием БП.

Если для модуля версии 5.5.3 и выше создаётся новая БД, старое согласование с использованием БП работать не будет.
====
//end::warning[]
+
.Список баз данных для обновления
image::install-db-update.png[Список баз данных для обновления]
+
.По завершении обновления:
* Будет показано окно с результатом обновления.
* Сервисы {dv} будут перезапущены.
+
. Установите новую версию модуля БЕЗ обновления БД (со снятым флагом `*Обновить базу данных*`):
+
* На оставшихся узлах кластера {dv}.
* На сервере СУБП, {wc}а и других модулей, использующих компоненты модуля _{ad}_.
+
. Клиентские компоненты модуля на компьютерах пользователей будут обновлены автоматически при запуске {wincl}а.
+
Самостоятельно обновить клиентские компоненты можно из пакета установки `{dv} ApprovalDesigner client.msi`.
+
. {empty}
include::partial$excerpts.adoc[tags=manual-delete]
