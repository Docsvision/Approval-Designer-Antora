= Условия старта этапов в маршруте

Определение условий старта этапов является неотъемлемой частью настройки маршрута.
В случае, если несколько этапов используются без условий, стартовым будет считаться первый найденный в таблице, остальные -- проигнорированы.

.В обычном согласовании:
****
Условия задаются для всех этапов, кроме первого. Для всех остальных этапов условия обязательны, иначе этап не будет участвовать в процессе.
****

.В усовершенствованном согласовании:
****
include::partial$excerpts.adoc[tags=start-cond]

****

При настройке условий старта следует учитывать, что этапы в цикле могут выполняться как по очереди, так и одновременно. Например, документ может одновременно согласовываться юридическим и техническим отделом.

Смысл настройки условия состоит в том, чтобы определить: какое решение должно быть принято согласующими предыдущего этапа, чтобы имело смысл запускать текущий (настраиваемый) этап. Задать условия запуска этапа можно, выбрав из списка названия и семантику решения предыдущего этапа. Если данный этап зависит от нескольких других, при определении условий следует воспользоваться операторами `И` и `ИЛИ`.

Допускается также группировать условия, что позволяет создавать сравнения по `И` и `ИЛИ` одного этапа с несколькими.

Если для этапа настроена возможность xref:stage-availability.adoc[изменения этапа перед стартом], _Инициатор_ или _Участники согласования_ могут вручную исключить этап из процесса активного согласования. При этом, исключение этапа никак не повлияет на карту этапов данного маршрута. Для исключённого этапа будет применена xref:stage-finish-settings.adoc[семантика завершения этапа по умолчанию].

.Чтобы определить условия старта этапов в маршруте:
. Добавьте в маршрут все необходимые этапы.
. В окне _Карта этапов_ для второго по списку этапа нажмите на кнопку с многоточием в столбце _Условия старта_.
+
[NOTE]
====
include::partial$excerpts.adoc[tags=start-cond]
====
+
.Вызов "Конструктора условий"
image::approval-legal.png[Вызов "Конструктора условий"]
+
Будет открыто окно _Конструктор условия_.
+
.Конструктор условия
image::create-condition.png[Конструктор условия]
+
. Нажмите на кнопку image:buttons/start-condition-add.png[Окно с плюсом] *Добавить условие* или image:buttons/start-condition-group-add.png[Два окна с плюсом] *Добавить группу условий*.
+
В списке поля _Этап_ появится список всех доступных этапов.
+
.Выбор предыдущего этапа как условия для запуска текущего этапа
image::condition-stage-list.png[Выбор предыдущего этапа как условия для запуска текущего этапа]
+
. В поле _Этап_ выберите название карточки _Этап согласования_, от которой будет зависеть запуск настраиваемого этапа.
. В поле _Завершение_ выберите вариант завершения предыдущего этапа, при котором следует запускать настраиваемый этап. Выбор выполняется из доступных значений семантики.
. Если настраиваемый этап должен запускаться в зависимости от нескольких этапов, повторите действия 3 и 4, и сравните (объедините) условия при помощи оператора сравнения: `И`/`ИЛИ`. См. также xref:route-conditions-samples.adoc[Примеры настройки условий запуска этапов].
. Нажмите *ОК*.
