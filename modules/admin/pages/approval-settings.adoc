= Настройка согласований

Модуль _{ad}_ позволяет создавать различные виды расширенных согласований, отражающих потребности документооборота конкретного предприятия.

Общий принцип настройки согласований состоит в формировании некоторого набора вариантов (этапов) согласований с последующим объединением данных вариантов в группы (маршруты). Например, одним из этапов согласования может быть согласование проекта договора руководителями, а другим -- согласование этого же документа юридическим отделом. Маршрут согласования может включать оба этапа, где сначала будет выполняться согласование руководителями, а затем -- юристами.

.Пример маршрута согласования, включающего несколько этапов
image::approval-route.png[Пример маршрута согласования, включающего несколько этапов]

В поставляемом решении отсутствуют какие-либо этапы и маршруты, созданные при помощи конструктора. Настроить варианта расширенных согласований администратор модуля должен самостоятельно.

.Чтобы обеспечить работоспособность модуля _{ad}_, администратор должен выполнить следующие настройки:
. xref:setting-stage.adoc[Создать и настроить] карточки _Этап согласования_.
. xref:approval-route.adoc[Создать и настроить] карточки _Маршрут согласования_, указать этапы, входящие в маршрут, и условия перехода между ними.
. xref:approval-template.adoc[Создать шаблон] карточки _Согласования КС_, связать её с необходимым маршрутом.
. В _Справочнике видов карточек_ xref:approval-create-from-card.adoc[настроить создание согласования] из карточки документа.

.Последовательность настройки расширенных согласований
image::admin-process.png[Последовательность настройки расширенных согласований]

Таким образом, обычные пользователи, в задачи которых входит запуск согласований, увидят только настроенные администратором варианты расширенных согласований в карточках документов.

Набор доступных согласований будет определяться видом документа. Для _Инициатора_ согласования может быть настроена возможность частичного xref:stage-availability.adoc[изменения настроек] этапа перед стартом и при управлении активным согласованием.

После запуска согласования для пользователей, назначенных согласующими, формируются задания на согласование. В каждом задании присутствует набор возможных xref:task-decisions.adoc[вариантов] (кнопок) для принятия решений, определённый администратором.

Результат выполнения этапа определяется набором установленных xref:approval-finish-rules.adoc[правил], и зависит от того, какие именно решения будут вынесены согласующими. Если все этапы завершатся положительно, процесс согласования будет завершен. При необходимости возможно также xref:approval-finish-rules.adoc[принудительное завершение] согласования.
