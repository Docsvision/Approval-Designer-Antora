= Условия старта этапов в маршруте

Определение условий старта этапов является неотъемлемой частью настройки маршрута. Условия задаются для всех этапов, кроме первого. Для всех остальных этапов условия обязательны, иначе этап не будет участвовать в процессе. В случае, если несколько этапов используются без условий, стартовым будет считаться первый найденный в таблице, остальные – проигнорированы.

При настройке условий старта следует учитывать, что этапы в цикле могут выполняться как по очереди, так и одновременно. Например, документ может одновременно согласовываться юридическим и техническим отделом.

[CAUTION]
====
Один и тот же этап не может запускаться в одном маршруте более одного раза.
====

Смысл настройки условия состоит в том, чтобы определить: какое решение должно быть принято согласующими предыдущего этапа, чтобы имело смысл запускать текущий (настраиваемый) этап. Условия запуска этапа задаются путем выбора из списка названия и семантики решения предыдущего этапа. Если данный этап зависит от нескольких других, при определении условий следует воспользоваться операторами "И" и "ИЛИ".

Допускается также группировка условий, позволяющая создавать сравнения по "И" и "ИЛИ" одного этапа с несколькими.

Если для этапа настроена возможность xref:StageParams_change_stage_before_start.adoc[изменения этапа перед стартом], *Инициатор* или *Участники согласования* могут вручную исключить этап из процесса активного согласования. При этом, исключение этапа никак не повлияет на карту этапов данного маршрута. Для исключенного этапа будет применена xref:StageParamsExtra_stage_finish.adoc[семантика завершения этапа по умолчанию].

.Чтобы определить условия старта этапов в маршруте, выполните следующие действия:
. Добавьте в маршрут все необходимые этапы.
. В окне *Карта этапов* для второго по списку этапа нажмите на кнопку с многоточием в столбце *Условия старта*. Для стартового этапа кнопка недоступна.
+
.Вызов "Конструктора условий"
image::Path_RoadMap.png[Вызов "Конструктора условий"]
+
Будет открыто окно *Конструктор условия*.
+
.Конструктор условия
image::StageCondition.png[Конструктор условия]
+
. Нажмите на кнопку image:buttons/start_condition_add.png[image] *Добавить условие*/ image:buttons/start_condition_group_add.png[image]**Добавить группу условий.
+
В списке поля *Этап* появится список всех доступных этапов.
+
.Выбор предыдущего этапа как условия для запуска текущего этапа
image::StageCondition_stage_list.png[Выбор предыдущего этапа как условия для запуска текущего этапа]
+
. В поле *Этап* выберите название карточки _Этап согласования_, от которой будет зависеть запуск настраиваемого этапа.
. В поле *Завершение* выберите вариант завершения предыдущего этапа, при котором следует запускать настраиваемый этап. Выбор выполняется из доступных значений семантики.
. Если настраиваемый этап должен запускаться в зависимости от нескольких этапов, повторите действия 3 и 4, и сравните (объедините) условия при помощи оператора сравнения И/ИЛИ. См. также xref:Condition_two_positive.adoc[Примеры настройки условий запуска этапов].
. Нажмите *ОК*.
