[[ariaid-title1]]
== Условия старта этапов в маршруте

Определение условий старта этапов является неотъемлемой частью настройки маршрута. Условия задаются для всех этапов, кроме первого. Для всех остальных этапов условия обязательны, иначе этап не будет участвовать в процессе. В случае, если несколько этапов используются без условий, стартовым будет считаться первый найденный в таблице, остальные – проигнорированы.

При настройке условий старта следует учитывать, что этапы в цикле могут выполняться как по очереди, так и одновременно. Например, документ может одновременно согласовываться юридическим и техническим отделом.

[NOTE]
====
[.note__title]#Внимание:#

Один и тот же этап не может запускаться в одном маршруте более одного раза.
====

Смысл настройки условия состоит в том, чтобы определить: какое решение должно быть принято согласующими предыдущего этапа, чтобы имело смысл запускать текущий (настраиваемый) этап. Условия запуска этапа задаются путем выбора из списка названия и семантики решения предыдущего этапа. Если данный этап зависит от нескольких других, при определении условий следует воспользоваться операторами "И" и "ИЛИ".

Допускается также группировка условий, позволяющая создавать сравнения по "И" и "ИЛИ" одного этапа с несколькими.

Если для этапа настроена возможность xref:StageParams_change_stage_before_start.adoc[изменения этапа перед стартом], [#task_yjh_nbp_vm__stage_exclude_user .ph]#[.keyword]*Инициатор* или [.keyword]*Участники согласования* могут вручную исключить этап из процесса активного согласования. При этом, исключение этапа никак не повлияет на карту этапов данного маршрута.# Для исключенного этапа будет применена xref:StageParamsExtra_stage_finish.adoc[семантика завершения этапа по умолчанию].

Чтобы определить условия старта этапов в маршруте, выполните следующие действия:

. [.ph .cmd]#Добавьте в маршрут все необходимые этапы. #
. [.ph .cmd]#В окне [.keyword .wintitle]*Карта этапов* для второго по списку этапа нажмите на кнопку с многоточием в столбце [.keyword]*Условия старта*. Для стартового этапа кнопка недоступна.#
+
image::img/Path_RoadMap.png[[.fig--title-label]##Рис. 1. ##Вызов 'Конструктора условий']
+
Будет открыто окно [.keyword .wintitle]*Конструктор условия*.

image::img/StageCondition.png[[.fig--title-label]##Рис. 2. ##Конструктор условия]
. [.ph .cmd]#Нажмите на кнопку image:img/Buttons/start_condition_add.png[image] [.keyword]*Добавить условие*/ image:img/Buttons/start_condition_group_add.png[image][.keyword]**Добавить группу условий##.#
+
В списке поля [.keyword]*Этап* появится список всех доступных этапов.

image::img/StageCondition_stage_list.png[[.fig--title-label]##Рис. 3. ##Выбор предыдущего этапа как условия для запуска текущего этапа]
. [.ph .cmd]#В поле [.keyword]*Этап* выберите название карточки [.keyword .parmname]_Этап согласования_, от которой будет зависеть запуск настраиваемого этапа.#
. [.ph .cmd]#В поле [.keyword]*Завершение* выберите вариант завершения предыдущего этапа, при котором следует запускать настраиваемый этап. Выбор выполняется из доступных значений семантики.#
. [.ph .cmd]#Если настраиваемый этап должен запускаться в зависимости от нескольких этапов, повторите действия 3 и 4, и сравните (объедините) условия при помощи оператора сравнения И/ИЛИ. См. также xref:Condition_two_positive.adoc[Примеры настройки условий запуска этапов].#
. [.ph .cmd]#Нажмите [.ph .uicontrol]*ОК*.#

* *xref:../pages/Condition_two_positive.adoc[Примеры настройки условий запуска этапов]* +

*На уровень выше:* xref:../pages/Path_roadmap.adoc[Формирование карты этапов]
